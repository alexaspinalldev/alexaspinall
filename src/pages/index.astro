---
import Base from '../layouts/Base.astro'
import Header from '../components/header.astro'
import ProjectCard from '../components/projectCard.astro'
import ContactModal from '../components/contactModal.astro'
import Carousel from '../components/carousel.astro'
---

<Base title="Home">
	<Header />
	<main>
		<section class="p-6 pt-0 md:px-[7vw] floater">
			<div class="bg-white dark:bg-gray-800 rounded-[50px] shadow-md">
				<div class="flex flex-wrap p-5">
					<div class="w-full pb-3 md:w-1/3 md:pb-0">
						<div
							class="flex items-center justify-center overflow-hidden rounded-3xl aspect-square"
						>
							<Carousel />
						</div>
					</div>
					<div class="w-full p-1 md:w-2/3 md:pt-0 md:pl-6">
						<h2
							class="mb-5 font-bold leading-none tracking-wider uppercase text-hero-sm font-eurostile"
						>
							<span
								class="underline decoration-4 underline-offset-8 decoration-blue-500"
								>About</span
							>
							<span
								class="underline decoration-4 underline-offset-8 decoration-amber-600"
								>Me</span
							>
						</h2>
						<p class="mb-3">
							Hi, I'm Alex. I'm a Full-stack Web Developer with a background in Agile
							Business Analysis, and before that Helpdesk management. I'm motivated by
							a firm belief that code, systems and processes should be lightweight,
							efficient and well documented, and that pain-free user-experience and
							logical automation are fundamental elements of how technology should
							serve humanity, be it in an app or in an internal knowledgebase.
						</p>
						<p class="mb-3">
							Through my background in business analysis, volunteering and education,
							I've been able to develop an easy rapport with people across a range of
							channels, and take pride in making interactions with colleagues and
							clients friendly and productive. I enjoy delving deeply into new tools
							and environments, and am in my element evaluating different factors and
							creating effective, actionable and tangible solutions.
						</p>
						<p class="mb-3">
							Outside of work I'm obsessed with the gym, I'm a (expert) trombonist and
							(terrible) Bachata dancer. I'm also a huge proponent of working remote,
							with previous contracts all over the world.
						</p>
					</div>
				</div>
			</div>
		</section>
		<section class="py-6 floater">
			<h2
				class="mb-5 font-bold tracking-wider uppercase text-hero-sm font-eurostile px-6 md:px-[7vw] leading-none"
			>
				<span class="underline decoration-4 underline-offset-8 decoration-blue-500">My</span
				>
				<span class="underline decoration-4 underline-offset-8 decoration-amber-600"
					>Projects</span
				>
			</h2>
			<div class="px-6 md:px-[3vw]" id="clientSites">
				<!-- <h3 class="mb-2 font-eurostile-regular text-hero-sm">Client Sites</h3> -->
				<div class="flex flex-wrap justify-start overflow-scroll md:flex-nowrap gap-7">
					<!-- Props: livehref, githubhref, title, blurb, thumb -->
					<!-- Images must be added to projectTumbs.ts -->
					<ProjectCard
						title="Dana Winestone Coaching"
						blurb="A modern, full-featured static website for a Life Coaching business. Built in Astro, boasting Netlify form integration, serverless Mailerlite API email collection, and PagesCMS-driven blog."
						thumb="dana-lbg"
						livehref="https://danawinestonecoaching.netlify.app/"
						githubhref=""
					/>
					<ProjectCard
						title="Terra Java"
						blurb="Terra Java is a boutique catalogue of the world's finest coffee blends, named for the rich coffee fields found on the island of Java in western Indonesia. This was my Full Stack Capstone Project with Code Institute and uses the Django framework."
						thumb="terra-java"
						livehref="https://terra-java-9165cf0b75d7.herokuapp.com/"
						githubhref="https://github.com/alexaspinalldev/Terra-Java"
					/>
					<ProjectCard
						title="Message Board"
						blurb="The result of a 3-day team hackathon, Message Board is a Django application that allows to register and post messages for others to see. Forkable on Github, our nascent deployment collected messages of thanks for our course leader."
						thumb="message-board"
						livehref="https://messageboard1-f1454f42f245.herokuapp.com/"
						githubhref="https://github.com/alexaspinalldev/Message-board/"
					/>
				</div>
			</div>
		</section>
	</main>
	<ContactModal />
</Base>

<!-- <script>
	const floatFactor = 4 // Adjust for stronger/slower drift
	const damping = 0.3 // Adjust for smoothness (0.1 = smooth, 0.5 = snappier)
	const floaters = document.querySelectorAll('.floater')

	let lastScrollTop = window.scrollY || document.documentElement.scrollTop
	let targetOffset = 0

	function updateFloaters() {
		floaters.forEach((floater) => {
			const el = floater as HTMLElement
			const currentY =
				parseFloat(el.style.transform.replace('translateY(', '').replace('px)', '')) || 0
			const newY = currentY + (targetOffset - currentY) * damping // Smooth easing
			el.style.transform = `translateY(${newY}px)`
		})
		requestAnimationFrame(updateFloaters) // Keep animating
	}

	window.addEventListener('scroll', () => {
		const scrollTop = window.scrollY || document.documentElement.scrollTop
		const scrollDiff = scrollTop - lastScrollTop

		targetOffset = scrollDiff * floatFactor // Set the target drift

		lastScrollTop = scrollTop <= 0 ? 0 : scrollTop // Prevent negatives
	})

	updateFloaters() // Start animation loop
</script> -->
